const CACHE_VER="kricsleo-cache-v2",CACHE_FILE_LIST=["/","/style.css","/js/index.js","/js/search.js"];self.addEventListener("install",e=>{self.skipWaiting(),e.waitUntil(caches.open(CACHE_VER).then(e=>e.addAll(CACHE_FILE_LIST)))}),self.addEventListener("activate",e=>{e.waitUntil(Promise.all([self.clients.claim(),caches.keys().then(e=>Promise.all(e.map(e=>e!==CACHE_VER?caches.delete(e):void 0)))]))}),self.addEventListener("fetch",e=>e.respondWith(fetch(e.request).then(s=>{const t=s.clone();return caches.open(CACHE_VER).then(s=>s.put(e.request.url,t)),s}).catch(()=>caches.match(e.request.url))));